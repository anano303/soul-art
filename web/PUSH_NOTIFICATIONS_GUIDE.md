# ­Ъћћ Push Notifications for Soulart - рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃў

## ­ЪЊІ рЃарЃљ рЃљрЃарЃўрЃА рЃЊрЃљрЃДрЃћрЃюрЃћрЃЉрЃБрЃџрЃў

### РюЁ **рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃћрЃЉрЃў рЃЊрЃљ рЃцрЃљрЃўрЃџрЃћрЃЉрЃў:**

1. **­ЪЊ▒ Push Notification Manager** (`src/components/push-notifications/`)

   - рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃўрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљ
   - Subscription-рЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ
   - рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃў

2. **­ЪјЏ№ИЈ Admin Test Panel** (`src/components/push-test-panel/`)

   - Development-рЃерЃў admin-рЃўрЃАрЃЌрЃЋрЃўрЃА рЃбрЃћрЃАрЃбрЃћрЃЉрЃўрЃА рЃњрЃљрЃАрЃљрЃерЃЋрЃћрЃЉрЃљрЃЊ
   - 3 рЃбрЃўрЃърЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃўрЃА рЃбрЃћрЃАрЃбрЃў

3. **­ЪћД API Endpoints:**

   - `/api/push` - рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў push API
   - `/api/push/new-product` - рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА
   - `/api/push/discount` - рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА
   - `/api/push/order-status` - рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃўрЃАрЃЌрЃЋрЃўрЃА

4. **РџЎ№ИЈ Service Worker** (`public/sw-push.js`)

   - Push notification-рЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљ
   - Click-рЃћрЃЉрЃўрЃА handle
   - рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў

5. **­Ъћљ VAPID Keys** (`.env.local`)
   - Push notification-рЃћрЃЉрЃўрЃА authentication
   - рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃљ

---

## ­Ъџђ **рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮ?**

### 1№ИЈРЃБ **рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА:**

- рЃАрЃљрЃўрЃбрЃќрЃћ рЃерЃћрЃАрЃЋрЃџрЃўрЃАрЃљрЃА рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃћрЃЉрЃљ push notification-рЃўрЃА permission
- рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў рЃўрЃарЃЕрЃћрЃЋрЃА рЃАрЃљрЃЏ рЃбрЃўрЃърЃА рЃерЃЮрЃарЃўрЃА:
  - ­Ъје **рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃћрЃЉрЃў**
  - ­Ъњ░ **рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃћрЃЉрЃў**
  - ­ЪЊд **рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃў**

### 2№ИЈРЃБ **Admin/Developer-рЃўрЃАрЃЌрЃЋрЃўрЃА:**

- Development mode-рЃерЃў рЃЕрЃљрЃюрЃА "­ЪДф Admin: рЃбрЃћрЃАрЃбрЃБрЃарЃў рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў" рЃдрЃўрЃџрЃљрЃЎрЃў
- рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃДрЃЋрЃћрЃџрЃљ рЃбрЃўрЃърЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃўрЃА рЃбрЃћрЃАрЃбрЃў

---

## ­ЪћД **рЃарЃЮрЃњрЃЮрЃа рЃўрЃюрЃбрЃћрЃњрЃарЃўрЃарЃћрЃЉрЃљ рЃЌрЃЦрЃЋрЃћрЃюрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃерЃў**

### **рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃАрЃљрЃА:**

```typescript
// рЃЌрЃЦрЃЋрЃћрЃюрЃА product creation code-рЃерЃў
import { sendNewProductNotification } from "@/app/api/push/route";

// рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ
await sendNewProductNotification({
  id: newProduct.id,
  title: newProduct.title,
  imageUrl: newProduct.imageUrl,
});
```

### **рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃўрЃА рЃЊрЃљрЃДрЃћрЃюрЃћрЃЉрЃўрЃАрЃљрЃА:**

```typescript
import { sendDiscountNotification } from "@/app/api/push/route";

await sendDiscountNotification({
  title: "рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ",
  percentage: 25,
  category: "рЃюрЃљрЃ«рЃљрЃбрЃћрЃЉрЃў", // optional
});
```

### **рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃўрЃА рЃерЃћрЃфрЃЋрЃџрЃўрЃАрЃљрЃА:**

```typescript
import { sendOrderStatusNotification } from "@/app/api/push/route";

await sendOrderStatusNotification({
  id: order.id,
  status: "shipped", // confirmed, processing, shipped, delivered, cancelled
  customerEmail: order.customerEmail,
});
```

---

## ­Ъїљ **API Endpoints рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ**

### **рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃў:**

```bash
POST /api/push/new-product
{
  "product": {
    "id": "prod-123",
    "title": "рЃљрЃ«рЃљрЃџрЃў рЃюрЃљрЃЏрЃБрЃерЃћрЃЋрЃљрЃарЃў",
    "imageUrl": "/product-image.jpg"
  }
}
```

### **рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ:**

```bash
POST /api/push/discount
{
  "discount": {
    "title": "рЃерЃћрЃЏрЃЮрЃЊрЃњрЃЮрЃЏрЃўрЃЌрЃў рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ",
    "percentage": 30,
    "category": "рЃюрЃљрЃ«рЃљрЃбрЃћрЃЉрЃў"
  }
}
```

### **рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃў:**

```bash
POST /api/push/order-status
{
  "order": {
    "id": "ORDER-12345",
    "status": "shipped",
    "customerEmail": "customer@example.com"
  }
}
```

---

## ­ЪЊі **рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ**

### **Development Mode-рЃерЃў:**

1. рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ http://localhost:3001
2. рЃАрЃљрЃўрЃбрЃќрЃћ рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃћрЃЉрЃљ push notification prompt
3. рЃЊрЃљрЃБрЃЌрЃљрЃюрЃ«рЃЏрЃћрЃЌ notifications
4. рЃЕрЃљрЃюрЃА "­ЪДф Admin: рЃбрЃћрЃАрЃбрЃБрЃарЃў рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў" рЃдрЃўрЃџрЃљрЃЎрЃў
5. рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ рЃЊрЃљ рЃњрЃљрЃерЃЋрЃћрЃЉрЃўрЃЌ рЃбрЃћрЃАрЃбрЃћрЃЉрЃў

### **Manual API рЃбрЃћрЃАрЃбрЃў:**

```bash
# рЃбрЃћрЃАрЃбрЃБрЃарЃў рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃў
GET /api/push/new-product

# рЃбрЃћрЃАрЃбрЃБрЃарЃў рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ
GET /api/push/discount

# рЃбрЃћрЃАрЃбрЃБрЃарЃў рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃў
GET /api/push/order-status
```

---

## Рџа№ИЈ **рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃћрЃЉрЃў**

1. **VAPID Keys:** `.env.local` рЃцрЃљрЃўрЃџрЃерЃў рЃБрЃЎрЃЋрЃћ рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ
2. **Browser Support:** рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА Chrome, Firefox, Safari, Edge-рЃќрЃћ
3. **HTTPS:** Production-рЃерЃў рЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮрЃљ HTTPS
4. **Permissions:** рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃЏрЃљ рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃБрЃЌрЃљрЃюрЃ«рЃЏрЃЮрЃА notifications
5. **Testing:** Development-рЃерЃў admin panel-рЃўрЃЌ рЃљрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃбрЃћрЃАрЃбрЃўрЃарЃЊрЃћрЃЉрЃљ

---

## ­Ъј» **рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃюрЃљрЃЉрЃўрЃ»рЃћрЃЉрЃў**

1. **рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃА business logic-рЃерЃў** API calls
2. **рЃЏрЃЮрЃљрЃ«рЃЊрЃўрЃюрЃћрЃЌ рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ** development mode-рЃерЃў
3. **рЃњрЃљрЃюрЃљрЃЌрЃљрЃЋрЃАрЃћрЃЌ production-рЃќрЃћ** HTTPS-рЃЌрЃљрЃю рЃћрЃарЃЌрЃљрЃЊ
4. **рЃЏрЃЮрЃюрЃўрЃбрЃЮрЃарЃўрЃюрЃњрЃў** - рЃЏрЃБрЃерЃљрЃЮрЃЉрЃЊрЃћрЃЌ рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃЏрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃџрЃћрЃЉрЃўрЃЌ

---

## ­Ъєў **рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў:**

```bash
# Push API-рЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ
GET /api/push?action=stats

# рЃдрЃўрЃљ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ
- VAPID Keys: .env.local
- Service Worker: public/sw-push.js
- Components: src/components/push-notifications/
```

**­ЪјЅ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃЏрЃќрЃљрЃЊрЃљрЃљ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА!** рЃЌрЃЦрЃЋрЃћрЃю рЃБрЃюрЃЊрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃЮрЃЌ API calls рЃЌрЃЦрЃЋрЃћрЃюрЃА рЃљрЃарЃАрЃћрЃЉрЃБрЃџ рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃерЃў.

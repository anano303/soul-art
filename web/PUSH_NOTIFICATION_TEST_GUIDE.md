# ­Ъћћ Push Notification Test Guide

## рЃарЃЮрЃњрЃЮрЃа рЃЋрЃбрЃћрЃАрЃбрЃљрЃЋрЃЌ Push Notification рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃА

### РюЁ 1. рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃЏрЃ«рЃарЃўрЃЊрЃљрЃю (Browser)

1. **рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ рЃАрЃљрЃўрЃбрЃў localhost:3000**
2. **рЃЊрЃљрЃћрЃџрЃЮрЃЊрЃћрЃЌ 10 рЃгрЃљрЃЏрЃА** - рЃњрЃљрЃЏрЃЮрЃЋрЃљ notification permission prompt
3. **рЃЊрЃљрЃГрЃўрЃарЃћрЃЌ "рЃюрЃћрЃЉрЃўрЃА рЃЊрЃљрЃарЃЌрЃЋрЃљ"** рЃдрЃўрЃџрЃљрЃЎрЃА
4. **Browser-рЃерЃў "Allow" рЃдрЃўрЃџрЃљрЃЎрЃў рЃЊрЃљрЃГрЃўрЃарЃћрЃЌ**

### РюЁ 2. Admin Panel-рЃўрЃЌ рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ

#### A) рЃљрЃ«рЃљрЃџрЃў рЃЉрЃљрЃюрЃћрЃарЃўрЃА (рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ) рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ:
1. **Admin рЃърЃљрЃюрЃћрЃџрЃў** Рєњ `/admin/banners`  
2. **"рЃљрЃ«рЃљрЃџрЃў рЃЉрЃљрЃюрЃћрЃарЃў"** рЃдрЃўрЃџрЃљрЃЎрЃў
3. **Title-рЃерЃў** рЃЕрЃљрЃгрЃћрЃарЃћрЃЌ: "рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃљ" рЃљрЃю "discount" рЃљрЃю "рЃљрЃЦрЃфрЃўрЃљ"
4. **"рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ"** рЃЊрЃљрЃГрЃўрЃарЃћрЃЌ
5. **рЃерЃћрЃЊрЃћрЃњрЃў:** рЃДрЃЋрЃћрЃџрЃљ subscriber-рЃА рЃЏрЃЮрЃЋрЃљ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ

#### B) рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ:
1. **Admin рЃърЃљрЃюрЃћрЃџрЃў** Рєњ `/admin/products`
2. **"рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃў"** Рєњ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃерЃћрЃљрЃЋрЃАрЃћрЃЌ
3. **"рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ"** рЃЊрЃљрЃГрЃўрЃарЃћрЃЌ
4. **рЃерЃћрЃЊрЃћрЃњрЃў:** рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ

#### C) рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃАрЃбрЃљрЃбрЃБрЃАрЃўрЃА рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃљ:
1. **Admin рЃърЃљрЃюрЃћрЃџрЃў** Рєњ `/admin/orders`
2. **рЃерЃћрЃЎрЃЋрЃћрЃЌрЃљ рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ** Рєњ `Order Details`
3. **"Mark as Delivered"** рЃЊрЃљрЃГрЃўрЃарЃћрЃЌ
4. **рЃерЃћрЃЊрЃћрЃњрЃў:** рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА рЃЏрЃЮрЃЋрЃљ рЃЏрЃўрЃдрЃћрЃЉрЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ

### ­ЪћД 3. Manual Testing (Developer Console)

Browser Console-рЃерЃў рЃЕрЃљрЃгрЃћрЃарЃћрЃЌ:

```javascript
// Subscription Status рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ
navigator.serviceWorker.ready.then(registration => {
  return registration.pushManager.getSubscription();
}).then(subscription => {
  if (subscription) {
    console.log('РюЁ Subscribed:', subscription.endpoint);
  } else {
    console.log('РЮї Not subscribed');
  }
});

// Manual Test Notification
fetch('/api/push/new-product', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    product: {
      id: 'test123',
      title: 'рЃбрЃћрЃАрЃбрЃБрЃарЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃў',
      imageUrl: '/logo.png'
    }
  })
}).then(response => response.json()).then(data => {
  console.log('Test result:', data);
});
```

### ­ЪЊі 4. Subscribers рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ

Console-рЃерЃў рЃюрЃљрЃ«рЃћрЃЌ:
```
­ЪњФ рЃљрЃ«рЃљрЃџрЃў push notification subscription рЃЊрЃљрЃарЃћрЃњрЃўрЃАрЃбрЃарЃўрЃарЃЊрЃљ
РюЁ New product notification sent: [product name]
РюЁ Discount notification sent for new banner
РюЁ Order delivery notification sent
```

### ­Ъџе 5. Troubleshooting

#### "0 рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА рЃњрЃљрЃћрЃњрЃќрЃљрЃЋрЃюрЃљ":
- **рЃЏрЃўрЃќрЃћрЃќрЃў:** рЃљрЃарЃљрЃЋрЃўрЃю рЃљрЃа рЃљрЃарЃўрЃА subscribed
- **рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ:** рЃљрЃ«рЃљрЃџрЃў tab-рЃўрЃЌ рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ, permission рЃЏрЃўрЃАрЃфрЃћрЃЌ

#### Notification рЃљрЃа рЃЏрЃЮрЃЊрЃўрЃА:
1. **Browser Settings** Рєњ Notifications Рєњ Allow for localhost
2. **Service Worker:** DevTools Рєњ Application Рєњ Service Workers
3. **Console Errors:** F12 Рєњ Console tab

#### Browser Compatibility:
- РюЁ Chrome, Edge, Firefox, Opera
- РЮї Safari (limited PWA support)  
- РюЁ Mobile Chrome/Firefox

### ­ЪЊ▒ 6. Mobile Testing

#### Android:
1. Chrome browser Рєњ Options Рєњ "Add to Home Screen"
2. Notifications permission рЃњрЃљрЃфрЃћрЃЏрЃљ
3. PWA рЃарЃЮрЃњрЃЮрЃарЃф App рЃњрЃљрЃ«рЃАрЃюрЃљ

#### iOS:
1. Safari Рєњ Share Рєњ "Add to Home Screen"  
2. Limited push notification support
3. PWA рЃЏрЃ«рЃљрЃарЃЊрЃљрЃГрЃћрЃарЃљ рЃерЃћрЃќрЃдрЃБрЃЊрЃБрЃџрЃў

### РџА 7. Performance Testing

```javascript
// Service Worker Status
navigator.serviceWorker.getRegistrations().then(registrations => {
  console.log('Active Service Workers:', registrations.length);
});

// Cache Status  
caches.keys().then(cacheNames => {
  console.log('Available Caches:', cacheNames);
});

// Push Manager Status
navigator.serviceWorker.ready.then(registration => {
  console.log('Push Manager Available:', !!registration.pushManager);
});
```

---

## ­Ъј» Expected Results

### рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃБрЃџрЃў рЃбрЃћрЃАрЃбрЃў:
1. **Permission granted** РюЁ
2. **Service Worker active** РюЁ  
3. **Subscription created** РюЁ
4. **Notifications received** РюЁ
5. **Console logs positive** РюЁ

### Console Output:
```
­ЪњФ рЃљрЃ«рЃљрЃџрЃў push notification subscription рЃЊрЃљрЃарЃћрЃњрЃўрЃАрЃбрЃарЃўрЃарЃЊрЃљ
РюЁ рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃњрЃљрЃўрЃњрЃќрЃљрЃЋрЃюрЃљ 1 рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃќрЃћ  
РюЁ рЃцрЃљрЃАрЃЊрЃљрЃЎрЃџрЃћрЃЉрЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃњрЃљрЃўрЃњрЃќрЃљрЃЋрЃюрЃљ 1 рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃќрЃћ
РюЁ рЃерЃћрЃЎрЃЋрЃћрЃЌрЃўрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ рЃњрЃљрЃўрЃњрЃќрЃљрЃЋрЃюрЃљ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА
```
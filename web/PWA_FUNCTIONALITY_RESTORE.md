# PWA рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃўрЃА рЃљрЃдрЃЊрЃњрЃћрЃюрЃљ - рЃерЃћрЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃљрЃдрЃгрЃћрЃарЃљ

## рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ

PWA рЃЮрЃцрЃџрЃљрЃўрЃю рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў рЃЊрЃљ push рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў рЃљрЃа рЃЏрЃБрЃерЃљрЃЮрЃЉрЃЊрЃљ, рЃЏрЃљрЃЌ рЃерЃЮрЃарЃўрЃА рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџ рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃерЃўрЃф рЃЎрЃў.

## рЃњрЃљрЃЏрЃЮрЃгрЃЋрЃћрЃЋрЃљ

1. **рЃФрЃљрЃџрЃўрЃљрЃю рЃерЃћрЃќрЃдрЃБрЃЊрЃБрЃџрЃў рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ** - PWA рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ production-рЃерЃў, рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЏрЃЮрЃЉрЃўрЃџрЃБрЃарЃќрЃћ, рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА
2. **Service Worker-рЃўрЃА рЃљрЃарЃљрЃАрЃгрЃЮрЃарЃў рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃљ** - рЃЎрЃЮрЃюрЃцрЃџрЃўрЃЦрЃбрЃБрЃарЃў рЃАрЃЎрЃарЃўрЃърЃбрЃћрЃЉрЃў
3. **Development рЃарЃћрЃЪрЃўрЃЏрЃерЃў рЃАрЃарЃБрЃџрЃў рЃњрЃљрЃЏрЃЮрЃарЃЌрЃЋрЃљ** - рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃА рЃерЃћрЃБрЃФрЃџрЃћрЃЉрЃџрЃЮрЃЉрЃљ

## рЃерЃћрЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃў

### 1. Next.js рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ (`next.config.ts`)

```typescript
// рЃФрЃЋрЃћрЃџрЃў - рЃФрЃљрЃџрЃўрЃљрЃю рЃерЃћрЃќрЃдрЃБрЃЊрЃБрЃџрЃў
disable: process.env.NODE_ENV === "development";
register: false;

// рЃљрЃ«рЃљрЃџрЃў - рЃЏрЃЮрЃЦрЃюрЃўрЃџрЃў
disable: false; // рЃДрЃЋрЃћрЃџрЃљ environment-рЃерЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃў
register: true; // рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃљ
```

### 2. PWA Utilities (`/src/utils/pwa.ts`)

```typescript
// рЃФрЃЋрЃћрЃџрЃў - рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ production + mobile + installed
if (
  "serviceWorker" in navigator &&
  isRunningAsInstalledPWA() &&
  isMobileDevice() &&
  process.env.NODE_ENV === "production"
)

// рЃљрЃ«рЃљрЃџрЃў - development-рЃерЃў рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ + installed PWA-рЃерЃў
if (
  "serviceWorker" in navigator &&
  (isRunningAsInstalledPWA() || process.env.NODE_ENV === "development")
)
```

### 3. Layout Script рЃњрЃљрЃгрЃЏрЃћрЃюрЃЊрЃљ (`/src/app/layout.tsx`)

- **рЃгрЃљрЃўрЃерЃљрЃџрЃљ**: рЃЎрЃЮрЃюрЃцрЃџрЃўрЃЦрЃбрЃБрЃарЃў inline service worker рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃљ
- **рЃЊрЃљрЃарЃЕрЃљ**: рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ next-pwa-рЃўрЃА рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃЏрЃљрЃарЃЌрЃЋрЃљ + PWAManager рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃў

### 4. PWA Manager рЃњрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃћрЃЉрЃљ (`/src/components/pwa-manager.tsx`)

- **рЃЊрЃљрЃћрЃЏрЃљрЃбрЃљ**: рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃў debugging рЃџрЃЮрЃњрЃћрЃЉрЃў
- **рЃЊрЃљрЃћрЃЏрЃљрЃбрЃљ**: service worker рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ
- **рЃњрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃЊрЃљ**: рЃарЃћрЃљрЃџрЃБрЃа рЃЊрЃарЃЮрЃерЃў рЃАрЃбрЃљрЃбрЃБрЃАрЃўрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ

## рЃарЃЮрЃњрЃЮрЃа рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃљрЃ«рЃџрЃљ

### Development рЃарЃћрЃЪрЃўрЃЏрЃерЃў:

- РюЁ Service Worker рЃарЃћрЃњрЃўрЃАрЃбрЃарЃўрЃарЃЊрЃћрЃЉрЃљ рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА
- РюЁ Push рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА
- РюЁ рЃЮрЃцрЃџрЃљрЃўрЃю рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃљ
- РюЁ рЃАрЃарЃБрЃџрЃў debugging рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ

### Production рЃарЃћрЃЪрЃўрЃЏрЃерЃў:

- РюЁ **рЃЊрЃљрЃўрЃюрЃАрЃбрЃљрЃџрЃўрЃарЃћрЃЉрЃБрЃџрЃў PWA**: рЃАрЃарЃБрЃџрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў (рЃЮрЃцрЃџрЃљрЃўрЃю + рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў)
- РюЁ **рЃЏрЃЮрЃЉрЃўрЃџрЃБрЃарЃў рЃЉрЃарЃљрЃБрЃќрЃћрЃарЃў**: рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў PWA рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў
- РюЁ **рЃЊрЃћрЃАрЃЎрЃбрЃЮрЃъ рЃЉрЃарЃљрЃБрЃќрЃћрЃарЃў**: рЃерЃћрЃќрЃдрЃБрЃЊрЃБрЃџрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў

## рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃў

1. **Console-рЃерЃў рЃЊрЃљрЃљрЃЌрЃЋрЃљрЃџрЃўрЃћрЃарЃћрЃЌ**:

   ```
   PWA Manager initialized: {
     isInstalled: true/false,
     isMobile: true/false,
     environment: "development"/"production",
     serviceWorkerSupported: true,
     notificationSupported: true
   }
   ```

2. **Service Worker рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ**:

   - Developer Tools Рєњ Application Рєњ Service Workers
   - рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА рЃарЃћрЃњрЃўрЃАрЃбрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў `/sw.js`

3. **Push рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃбрЃћрЃАрЃбрЃў**:

   - рЃњрЃЋрЃћрЃарЃЊрЃќрЃћ 10 рЃгрЃљрЃЏрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃћрЃА permission prompt
   - рЃюрЃћрЃЉрЃљрЃарЃЌрЃЋрЃўрЃА рЃЏрЃўрЃфрЃћрЃЏрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃћрЃЉрЃў

4. **рЃЮрЃцрЃџрЃљрЃўрЃю рЃбрЃћрЃАрЃбрЃў**:
   - Developer Tools Рєњ Network Рєњ Offline
   - рЃњрЃЋрЃћрЃарЃЊрЃўрЃА reload-рЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃћрЃА "/offline" рЃњрЃЋрЃћрЃарЃЊрЃў

## рЃБрЃърЃўрЃарЃљрЃбрЃћрЃАрЃЮрЃЉрЃћрЃЉрЃў

- ­Ъџђ **рЃАрЃгрЃарЃљрЃцрЃў рЃњрЃљрЃюрЃЋрЃўрЃЌрЃљрЃарЃћрЃЉрЃљ**: development-рЃерЃў рЃАрЃарЃБрЃџрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў
- ­ЪћД **рЃЏрЃљрЃарЃбрЃўрЃЋрЃў рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃљ**: рЃљрЃа рЃљрЃарЃўрЃА рЃАрЃљрЃГрЃўрЃарЃЮ production build
- ­ЪЊ▒ **рЃЏрЃЮрЃЦрЃюрЃўрЃџрЃў рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃў**: рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃа environment-рЃерЃў
- ­ЪЏа№ИЈ **рЃБрЃЎрЃћрЃЌрЃћрЃАрЃў debugging**: рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃў рЃџрЃЮрЃњрЃћрЃЉрЃў рЃЊрЃљ рЃЏрЃЮрЃюрЃўрЃбрЃЮрЃарЃўрЃюрЃњрЃў
